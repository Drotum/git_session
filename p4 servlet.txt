Set Up Your Project:

Open Eclipse.
Go to File > New > Dynamic Web Project.
Enter the project name (e.g., CustomerApp).
Click Finish.
Add Servlet Library:

Right-click on the project and select Properties.
Go to Java Build Path > Libraries.
Click Add Library and select Server Runtime.
Choose the server runtime you are using (e.g., Apache Tomcat).
Click Finish.
Create the Customer Class:

Right-click on src and select New > Class.
Name it Customer.
Paste the following code:
java
Copy code

public class Customer {
    private String customerId;
    private String mobileNumber;
    private String name;

    public Customer(String customerId, String mobileNumber, String name) {
        this.customerId = customerId;
        this.mobileNumber = mobileNumber;
        this.name = name;
    }

    public String getCustomerId() {
        return customerId;
    }

    public String getMobileNumber() {
        return mobileNumber;
    }

    public String getName() {
        return name;
    }
}


Create the Item Class:
Right-click on src and select New > Class.
Name it Item.
Paste the following code:
java
Copy code

public class Item {
    private String itemId;
    private String itemName;
    private double price;

    public Item(String itemId, String itemName, double price) {
        this.itemId = itemId;
        this.itemName = itemName;
        this.price = price;
    }

    public String getItemId() {
        return itemId;
    }

    public String getItemName() {
        return itemName;
    }

    public double getPrice() {
        return price;
    }
}


Create the LoginServlet Class:
Right-click on src and select New > Servlet.
Name it LoginServlet.
Paste the following code:
java
Copy code

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.swing.*;
import java.io.IOException;
import java.io.PrintWriter;
import java.util.HashMap;
import java.util.Map;

@WebServlet("/login")
public class LoginServlet extends HttpServlet {
    private static final long serialVersionUID = 1L;
    private Map<String, Customer> customerMap = new HashMap<>();
    private Map<String, Item> itemMap = new HashMap<>();

    @Override
    public void init() throws ServletException {
        super.init();
        // Initialize with some customers and items
        customerMap.put("1234567890", new Customer("C001", "1234567890", "John Doe"));
        customerMap.put("0987654321", new Customer("C002", "0987654321", "Jane Smith"));

        itemMap.put("I001", new Item("I001", "Laptop", 1000.00));
        itemMap.put("I002", new Item("I002", "Smartphone", 500.00));
    }

    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        String username = request.getParameter("username");
        String password = request.getParameter("password");

        if (validateLogin(username, password)) {
            String mobileNumber = JOptionPane.showInputDialog("Enter Mobile Number:");
            Customer customer = customerMap.get(mobileNumber);

            if (customer == null) {
                String customerId = JOptionPane.showInputDialog("New Customer. Enter Customer ID:");
                String name = JOptionPane.showInputDialog("Enter Customer Name:");
                customer = new Customer(customerId, mobileNumber, name);
                customerMap.put(mobileNumber, customer);
            }

            String itemId = JOptionPane.showInputDialog("Enter Item ID:");
            Item item = itemMap.get(itemId);

            if (item != null) {
                String quantityStr = JOptionPane.showInputDialog("Enter Quantity:");
                int quantity = Integer.parseInt(quantityStr);
                double totalCost = item.getPrice() * quantity;

                int discountOption = JOptionPane.showOptionDialog(null,
                        "Select Discount Type",
                        "Discount",
                        JOptionPane.DEFAULT_OPTION,
                        JOptionPane.INFORMATION_MESSAGE,
                        null,
                        new String[]{"No Discount", "10% Discount", "20% Discount"},
                        "No Discount");

                double discount = 0;
                switch (discountOption) {
                    case 1:
                        discount = 0.10;
                        break;
                    case 2:
                        discount = 0.20;
                        break;
                }

                totalCost -= totalCost * discount;

                String message = String.format("Customer ID: %s\nCustomer Name: %s\nItem: %s\nQuantity: %d\nTotal Cost: %.2f",
                        customer.getCustomerId(), customer.getName(), item.getItemName(), quantity, totalCost);

                JOptionPane.showMessageDialog(null, message, "Purchase Details", JOptionPane.INFORMATION_MESSAGE);
            } else {
                JOptionPane.showMessageDialog(null, "Invalid Item ID", "Error", JOptionPane.ERROR_MESSAGE);
            }
        } else {
            JOptionPane.showMessageDialog(null, "Invalid Username or Password", "Login Error", JOptionPane.ERROR_MESSAGE);
        }

        response.sendRedirect("index.html");
    }

    private boolean validateLogin(String username, String password) {
        // For demonstration purposes, we consider the username as "admin" and password as "password"
        return "admin".equals(username) && "password".equals(password);
    }
}


Create index.html:
Right-click on the WebContent folder and select New > HTML File.
Name it index.html.
Paste the following code:
html
Copy code

<!DOCTYPE html>
<html>
<head>
    <title>Login</title>
</head>
<body>
    <h2>Login</h2>
    <form action="login" method="post">
        <label for="username">Username:</label><br>
        <input type="text" id="username" name="username"><br><br>
        <label for="password">Password:</label><br>
        <input type="password" id="password" name="password"><br><br>
        <input type="submit" value="Login">
    </form>
</body>
</html>


Steps to Run the Application
Start Your Server:

Make sure you have a server (like Apache Tomcat) set up in Eclipse.
Right-click on the project and select Run As > Run on Server.
Choose your server and click Finish.
Access the Application:

Open a web browser and go to http://localhost:8080/CustomerApp/index.html.
Enter the username admin and password password.
Follow the prompts to enter the customer and item details, and see the calculated total cost with the discount options.
